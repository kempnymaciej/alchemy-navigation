<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>AlchemyNavigation | Alchemy Navigation System </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="AlchemyNavigation | Alchemy Navigation System ">
    <meta name="generator" content="docfx 2.56.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc">
    <meta property="docfx:tocrel" content="../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../../api/index.html" title="Api Documentation">Api Documentation</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../intro.html" title="Introduction to AlchemyNavigation" class="">Introduction to AlchemyNavigation</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../main_components.html" title="Main components" class="">Main components</a>
                        
                        <ul class="nav level2">
                          <li class="active">
                            <a href="../main_components/alchemy_navigation_system.html" title="Alchemy Navigation System" class="active">Alchemy Navigation System</a>
                          </li>
                          <li class="">
                            <a href="../main_components/faces_holder.html" title="Faces Holder" class="">Faces Holder</a>
                          </li>
                          <li class="">
                            <a href="../main_components/simple_agent.html" title="Simple Agent" class="">Simple Agent</a>
                          </li>
                          <li class="">
                            <a href="../main_components/movement_modifier.html" title="Movement Modifier" class="">Movement Modifier</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="../building_a_surface.html" title="Building a surface" class="">Building a surface</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../building_a_surface/how_it_works.html" title="How it works" class="">How it works</a>
                          </li>
                          <li class="">
                            <a href="../building_a_surface/bake_from_geometry.html" title="Bake from geometry" class="">Bake from geometry</a>
                          </li>
                          <li class="">
                            <a href="../building_a_surface/debugging_holders.html" title="Debugging holders" class="">Debugging holders</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="alchemy-navigation-system">Alchemy Navigation System</h1>

<p>The <a class="xref" href="../../api/AlchemyBow.Navigation.AlchemyNavigationSystem.html">AlchemyNavigationSystem</a> is a component that provides key features for the entire system to work.</p>
<p>To start using <strong>AlchemyNavigation</strong>:</p>
<ol>
<li>Create a new game object and name it appropriately.</li>
<li>Attach the <a class="xref" href="../../api/AlchemyBow.Navigation.AlchemyNavigationSystem.html">AlchemyNavigationSystem</a> component to the game object.</li>
</ol>
<h2 id="navigation-settings---editing">Navigation Settings - editing</h2>
<p>In the <em>Navigation Settings - editing</em> section of the inspector you can modify layers and areas defined in the instance of the system.</p>
<h3 id="layers">Layers</h3>
<p>You can create up to 32 layers. Each layer represents an independent part of the navigation surface. They can be used to create optimal alternative environments for different agents. For example, one layer for people and the other for cars.</p>
<p><img src="../images/editing_layers.png" alt="LayersEditing"></p>
<table>
<thead>
<tr>
<th>Inspector Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>A user-friendly name to appear in the Unity Editor</td>
</tr>
<tr>
<td>Connection Radius</td>
<td>The maximum distance between vertices to be counted as one vertex.</td>
</tr>
<tr>
<td>Raycast Length</td>
<td>The length of rays that are used to find faces of the navigation mesh. (optimization)</td>
</tr>
<tr>
<td>Max Edge Length</td>
<td>The maximum length of edges declared by the user to be used. (optimization)</td>
</tr>
</tbody>
</table>
<h3 id="areas">Areas</h3>
<p>You can use 32 areas to diversify the pathfinding process so that routes through certain areas are taken more often than others. For example, some characters prefer to walk on the pavement rather than on the mud.</p>
<p><img src="../images/editing_areas.png" alt="AreasEditing"></p>
<table>
<thead>
<tr>
<th>Inspector Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Weight</td>
<td>The greater the weight, the less frequently paths through the certain area are chosen. (1 is a standard value.)</td>
</tr>
<tr>
<td>Name</td>
<td>A user-friendly name to appear in the Unity Editor</td>
</tr>
<tr>
<td>Color</td>
<td>The preview color.</td>
</tr>
</tbody>
</table>
<h2 id="navigation-settings---import--export">Navigation Settings - import / export</h2>
<p>You can import and export navigation settings to &quot;.asset&quot; to change between multiple configurations and migrate them.</p>
<h2 id="debug-settings">Debug Settings</h2>
<p>In the <em>Debug Settings</em> section of the inspector you can enable logs and gizmos.</p>
<p><img src="../images/system_debug_settings.png" alt="SystemDebugSettings"></p>
<table>
<thead>
<tr>
<th>Inspector Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Log Events</td>
<td>If true, logs general events to the console.</td>
</tr>
<tr>
<td>Log Building Process</td>
<td>If true, logs in-depth information about the building process to the console.</td>
</tr>
<tr>
<td>logPathfindingProcess</td>
<td>If true, logs in-depth information about the pathfinding process to the console.</td>
</tr>
<tr>
<td>drawSurface</td>
<td>If true, the surface is drawn by gizmos.</td>
</tr>
<tr>
<td>drawSurfaceLayerIndex</td>
<td>The index of the layer to be drawn by gizmos.</td>
</tr>
<tr>
<td>drawSurfaceMinimized</td>
<td>If true, the surface is drawn in a minimized form. (optimalization)</td>
</tr>
</tbody>
</table>
<div class="NOTE">
<h5>Note</h5>
<p>If you change the drawing settings, the changes will not appear until the next building process. You can force them using ContextMenu -&gt; <strong>ForceGizmosDrawerUpdate</strong>.</p>
</div>
<h2 id="scripting">Scripting</h2>
<p>You can use <a class="xref" href="../../api/AlchemyBow.Navigation.AlchemyNavigationSystem.html">AlchemyNavigationSystem</a> to add or remove parts of the navigation mesh (triangles) at runtime. Consider this simple code as an example:</p>
<pre><code class="lang-csharp" name="Main">using AlchemyBow.Navigation;
using AlchemyBow.Navigation.PropertyAttributes;
using UnityEngine;

public class DoorsExample : MonoBehaviour
{
    [SerializeField] 
    private Vector3[] mesh = null;
    [SerializeField, LayerIndex]
    private int layer = 0;
    [SerializeField, AreaIndex] 
    private int area = 0;

    private NavigationFaceWrapper[] wrappers;

    public void OpenDoors()
    {
        var system = AlchemyNavigationSystem.Current;
        wrappers = new NavigationFaceWrapper[2];
        wrappers[0] = system.RegisterFace(mesh[0], mesh[1], mesh[2], area, layer);
        wrappers[1] = system.RegisterFace(mesh[2], mesh[3], mesh[0], area, layer);
    }

    public void CloseDoors()
    {
        if(wrappers != null)
        {
            var system = AlchemyNavigationSystem.Current;
            foreach (var wrapper in wrappers)
            {
                system.UnregisterFace(wrapper);
            }
        }
    }
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/kempnymaciej/AlchemyNavigation/blob/master/docfx_project/articles/main_components/alchemy_navigation_system.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
